name: Comprehensive GitHub Actions Workflow
on:

 # 4. Run on specific path change
 push:
   paths:
     - 'src/**'
     - '!src/docs/**'
     - 'package.json'
     - 'README.md'
 # Additional example: Workflow dispatch for manual triggering
 workflow_dispatch:
   inputs:
     environment:
       description: 'Environment to deploy'
       required: false
       default: 'staging'
jobs:
 build-and-test:
   runs-on: ubuntu-latest
   steps:
     - name: Checkout code
       uses: actions/checkout@v4
     - name: Set up Node.js
       uses: actions/setup-node@v4
       with:
         node-version: '20'
     - name: Install dependencies
       run: npm ci
     - name: Run tests
       run: npm test
 deploy:
   needs: build-and-test
   runs-on: ubuntu-latest
   # Only run deploy on main branch or manual workflow dispatch
   if: github.ref == 'refs/heads/main' || github.event_name == 'workflow_dispatch'
   steps:
     - name: Deploy to production
       run: |
         echo "Deploying to ${{ github.event.inputs.environment || 'production' }}"

